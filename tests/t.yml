version: "3.9"

services:
    www:
        image: nginx
        build:
            context: ./build
            dockerfile: dockerfile
            args:
                - a=1
                - b=2
        volumes:
            - type: volume
              source: mydata
              target: /data
              volume:
                  nocopy: true
            - type: bind
              source: ./static
              target: /opt/app/static
        one: two
        labels:
            - author=me
            - me=author
        ports:
            127.0.0.1:8000:80/tcp
        expose: 123
        depends_on:
            - php
        networks:
            one:
                aliases:
                    - aaa
                    - bbb
            two:

volumes:
    one:
        driver: bridge
        driver_opts:
            type: "nfs"
    two:

networks:
    one:
        external: true
    two:
        driver: overlay
        driver_opts:
            - x=y
        attachable: true
